<!DOCTYPE html>
<html lang="en">


  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Value Study</title>
  
    <!-- Add Firebase SDK Scripts with defer attribute -->
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-database-compat.js" defer></script>
  
    <!-- Firebase Configuration Script -->
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const firebaseConfig = {
          apiKey: "AIzaSyDF1e_FBAv4P1krAwTKVyP3F5g4knp4Hew",
          authDomain: "valuestudy.firebaseapp.com",
          databaseURL: "https://valuestudy-default-rtdb.europe-west1.firebasedatabase.app",
          projectId: "valuestudy",
          storageBucket: "valuestudy.appspot.com",
          messagingSenderId: "1092513324979",
          appId: "1:1092513324979:web:b6823acdd1d63aca5935c6"
        };
  
        // Initialize Firebase after the DOM has been fully loaded
        const firebaseApp = firebase.initializeApp(firebaseConfig);
  
        // Get a reference to the database
        const database = firebaseApp.database();
        const surveyRef = database.ref('surveyResponses');
  
        // Function to send survey responses to Firebase
        function sendSurveyResponse(data) {
          surveyRef.push(data)
            .then(() => {
              console.log('Survey response sent to Firebase successfully!');
              // Optionally, reset the form or perform other actions, e.g. redirect to success.html
              window.location.href = 'experiment.html';
            })
            .catch(error => {
              console.error('Error sending survey response to Firebase:', error);
            });
        }
  
        // Function to handle form submission
        function handleFormSubmission(event) {
          event.preventDefault();
  
          // Get form data
          const surveyForm = document.getElementById('surveyForm');
          const formData = new FormData(surveyForm);
          const data = {};
          formData.forEach((value, key) => {
            data[key] = value;
          });
  
          // Call the function to send survey response to Firebase
          sendSurveyResponse(data);
        }
  
        // Continue with your code...
        const surveyForm = document.getElementById('surveyForm');
  
        surveyForm.addEventListener('submit', handleFormSubmission);
      });
    </script>
  </head>
  

  <title> Value Study </title>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/frame.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/controls.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/widgets.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/custom.css" media="screen" rel="stylesheet" type="text/css" />
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/footer.js"></script>
  <script src="js/widgets.js"></script>
  <script src="js/util.js"></script>
  <script src="js/custom.js"></script>
  <style>
    .menu-widget {
      color: rgb(255, 255, 255) !important;
      opacity: 1 !important;
      font-weight: 700 !important;
    }
  </style>
</head>

<body>
  <div class="menu-container"></div>
  <div class="content-container">
    <div class="content">
      <div class="content-table flex-column">
        <div class="flex-row">
    

<body>
  <!-- Your HTML Survey Form -->
  <div class="flex-row"><form id="surveyForm">
            <div class="flex-item flex-column-survey">
              <h2 id="Survey">Survey</h2>
              <hr>
              <p class="text">
                Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel
                augue. Curabitur ullamcorper ultricies nisi. Nam eget dui. Etiam rhoncus. Maecenas tempus, tellus eget
                condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum. Nam quam nunc, blandit
                vel, luctus pulvinar, hendrerit id, lorem.
              </p>
              <div class="custom-survey add-top-margin add-bottom-margin">
                <span class="text">1. Was ist Ihr höchster Bildungsabschluss?</span>
                <div class="custom-radio-group-survey add-top-margin">
                    <div><input type="radio" name="education" value="NoDegree" id="education-item-1"> <label class="break-long-url" for="education-item-1">Kein Abschluss</label></div>
                    <div><input type="radio" name="education" value="MittlereReife" id="education-item-2"> <label class="break-long-url" for="education-item-2">Mittlere Reife</label></div>
                    <div><input type="radio" name="education" value="Abitur" id="education-item-3"> <label class="break-long-url" for="education-item-3">Abitur</label></div>
                    <div><input type="radio" name="education" value="University" id="education-item-4"> <label class="break-long-url" for="education-item-4">Bachelor</label></div>
                    <div><input type="radio" name="education" value="Master" id="education-item-5"> <label class="break-long-url" for="education-item-5">Master</label></div>
                    <div><input type="radio" name="education" value="Promotion" id="education-item-6"> <label class="break-long-url" for="education-item-6">Promotion</label></div>
                </div></div>
                

              <div class="custom-survey add-top-margin add-bottom-margin">
              <label for="age">2. Alter</label>
              <select id="age" name="age" required>
                  <option value="" disabled selected>Bitte auswählen</option>
                  <option value="A">Unter 18 Jahren</option>
                  <option value="B">18-24 Jahre alt</option>
                  <option value="C">25-34 Jahre alt</option>
                  <option value="D">35-44 Jahre alt</option>
                  <option value="E">45-54 Jahre alt</option>
                  <option value="F">55-64 Jahre alt</option>
                  <option value="G">65+ Jahre alt</option>
              </select>
              <br><br>
              </div>

              <div class="custom-survey add-top-margin add-bottom-margin">
                    <label for="gender">3. Geschlecht:</label>
                    <select id="gender" name="gender" required>
                    <option value="" disabled selected>Bitte auswählen</option>
                    <option value="männlich">männlich</option>
                    <option value="weiblich">weiblich</option>
                    <option value="divers">divers</option>
                    <option value="NA">möchte ich nicht angeben</option>
                    </select><br><br></div>




                    <form id="redirectForm">
                        <button type="button" onclick="redirectToSurvey()">Weiter</button>
                    </form>
                    </form>
                    
              

            </div>
          </div>
          <!--End Survey-->
          <!-------------------------------------------------------------------------------------------->


        </div>
        
      </div>
    </div>
    <div class="footer-container"></div>
  </div>
</body>


<script>
    function redirectToSurvey() {
        window.location.href = "survey_preferences.html";
    }
</script>
</html>